<div class="news-container">
  <h1>Hacker News Top Stories</h1>

  <div class="search-box">
    <input 
      type="text" 
      [ngModel]="searchQuery()" 
      (ngModelChange)="searchQuery.set($event)"
      placeholder="Search stories by title..."
      aria-label="Search stories"
    >
  </div>
  
  @if (loading()) {
    <div class="loading">Loading stories...</div>
  } @else if (error()) {
    <div class="error">{{ error() }}</div>
  } @else {
    <div class="stories-list">
      @for (story of filteredStories(); track story.id) {
        <article class="story-card">
          <h2>
            <a [href]="story.url" target="_blank" rel="noopener">{{ story.title }}</a>
          </h2>
          <div class="story-meta">
            <span>{{ story.score }} points</span>
            <span>by {{ story.by }}</span>
            <span>{{ formatTime(story.time) }}</span>
            <span>{{ story.descendants }} comments</span>
          </div>
        </article>
      }
    </div>

    <div class="pagination">
      <button
        class="btn btn-secondary"
        [disabled]="currentPage() === 1"
        (click)="previousPage()"
      >
        Previous
      </button>

      <span class="page-info">
        Page {{ currentPage() }} of {{ totalPages() }}
      </span>

      <button
        class="btn btn-primary"
        [disabled]="currentPage() === totalPages()"
        (click)="nextPage()"
      >
        Next
      </button>
    </div>
  }
</div>